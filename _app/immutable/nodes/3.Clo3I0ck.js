import{s as X,r as Y,e as U}from"../chunks/scheduler.V7bLW0bx.js";import{S as G,i as H,r as B,s as D,g as v,u as F,c as S,h as w,j as N,f as _,y as Q,k as m,l as W,v as L,a as K,x as b,z as C,A,d as M,t as z,w as J,m as Z,n as ee,o as te}from"../chunks/index.vXFFUQOf.js";import{w as j}from"../chunks/index.RSOydwDa.js";import{N as se,F as oe}from"../chunks/navbar.kmreD4K2.js";function R(r){let a,l;return{c(){a=v("p"),l=Z(r[4])},l(t){a=w(t,"P",{});var o=N(a);l=ee(o,r[4]),o.forEach(_)},m(t,o){K(t,a,o),b(a,l)},p(t,o){o&16&&te(l,t[4])},d(t){t&&_(a)}}}function re(r){let a,l,t,o,p,i,d,E,c,k,f,g,h,I="Submit Post",O,P,y,$,u,x;a=new se({});let n=r[3]&&R(r);return y=new oe({}),{c(){B(a.$$.fragment),l=D(),t=v("body"),o=v("div"),p=v("div"),i=v("div"),d=v("input"),E=D(),c=v("input"),k=D(),f=v("textarea"),g=D(),h=v("button"),h.textContent=I,O=D(),n&&n.c(),P=D(),B(y.$$.fragment),this.h()},l(e){F(a.$$.fragment,e),l=S(e),t=w(e,"BODY",{class:!0});var s=N(t);o=w(s,"DIV",{class:!0,style:!0});var V=N(o);p=w(V,"DIV",{class:!0});var q=N(p);i=w(q,"DIV",{class:!0});var T=N(i);d=w(T,"INPUT",{type:!0,placeholder:!0,class:!0}),E=S(T),c=w(T,"INPUT",{type:!0,placeholder:!0,class:!0}),k=S(T),f=w(T,"TEXTAREA",{placeholder:!0,class:!0}),N(f).forEach(_),g=S(T),h=w(T,"BUTTON",{class:!0,"data-svelte-h":!0}),Q(h)!=="svelte-qwbjyd"&&(h.textContent=I),T.forEach(_),q.forEach(_),V.forEach(_),O=S(s),n&&n.l(s),s.forEach(_),P=S(e),F(y.$$.fragment,e),this.h()},h(){m(d,"type","text"),m(d,"placeholder","Secret Key"),m(d,"class","w-full p-2 border-2 border-gray-300 rounded-md focus:outline-none focus:border-emerald-500 mb-4"),m(c,"type","text"),m(c,"placeholder","Title"),m(c,"class","w-full p-2 border-2 border-gray-300 rounded-md focus:outline-none focus:border-emerald-500 mb-4"),m(f,"placeholder","Content"),m(f,"class","w-full h-40 p-2 border-2 border-gray-300 rounded-md focus:outline-none focus:border-emerald-500 mb-4"),m(h,"class","px-4 py-2 bg-emerald-500 text-white font-semibold rounded-md hover:bg-emerald-600 focus:outline-none focus:ring-2 focus:ring-emerald-300"),m(i,"class","m-4"),m(p,"class","bg-slate-950 shadow-lg rounded-lg p-8"),m(o,"class","bg-pale shadow-lg rounded-lg p-2 opacity-90 mr-2 align-self-start"),W(o,"align-self","flex-start"),m(t,"class","flex flex-col min-h-screen bg-gradient-to-r from-emerald-950 to-slate-900")},m(e,s){L(a,e,s),K(e,l,s),K(e,t,s),b(t,o),b(o,p),b(p,i),b(i,d),C(d,r[2]),b(i,E),b(i,c),C(c,r[1]),b(i,k),b(i,f),C(f,r[0]),b(i,g),b(i,h),b(t,O),n&&n.m(t,null),K(e,P,s),L(y,e,s),$=!0,u||(x=[A(d,"input",r[11]),A(c,"input",r[12]),A(f,"input",r[13]),A(h,"click",r[10])],u=!0)},p(e,[s]){s&4&&d.value!==e[2]&&C(d,e[2]),s&2&&c.value!==e[1]&&C(c,e[1]),s&1&&C(f,e[0]),e[3]?n?n.p(e,s):(n=R(e),n.c(),n.m(t,null)):n&&(n.d(1),n=null)},i(e){$||(M(a.$$.fragment,e),M(y.$$.fragment,e),$=!0)},o(e){z(a.$$.fragment,e),z(y.$$.fragment,e),$=!1},d(e){e&&(_(l),_(t),_(P)),J(a,e),n&&n.d(),J(y,e),u=!1,Y(x)}}}function ne(r,a,l){let t,o,p,i,d;const E=j("");U(r,E,u=>l(2,p=u));const c=j("");U(r,c,u=>l(1,o=u));const k=j("");U(r,k,u=>l(0,t=u));const f=j("");U(r,f,u=>l(4,d=u));const g=j(!1);U(r,g,u=>l(3,i=u));const h=new Date().toLocaleDateString(),I=new Date().toLocaleTimeString();async function O(){const u=p,x=o,n=t,e="https://site-backend-9ce1fd9af9f0.herokuapp.com/blog";console.log(h),console.log(I);try{const s=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json","secret-key":u},body:JSON.stringify({title:x,date:h,time:I,content:n})});if(!s.ok)throw new Error(`Error: ${s.statusText}`);console.log("Post submitted successfully:"),f.set("Post successful!"),g.set(!0),setTimeout(()=>{g.set(!1)},1e4)}catch(s){console.error("Error submitting post:",s),s instanceof Error&&f.set(`Error submitting post: ${s.message}`),g.set(!0),setTimeout(()=>{g.set(!1)},1e4)}}function P(){p=this.value,E.set(p)}function y(){o=this.value,c.set(o)}function $(){t=this.value,k.set(t)}return[t,o,p,i,d,E,c,k,f,g,O,P,y,$]}class ce extends G{constructor(a){super(),H(this,a,ne,re,X,{})}}export{ce as component};
